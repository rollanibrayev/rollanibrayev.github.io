<title>Twitch Player</title>
<style>
  html {
    background-color: black;
    color: white
  }
  body {
    margin: 0;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center
  }
  #channelForm {
    text-align: center
  }
  iframe {
    border: 0
  }
</style>
<script defer>
  function extractChannelName(fullText)
  {
    let lastSlashIndex = fullText.lastIndexOf('/');
    return (lastSlashIndex !== -1) ? fullText.substring(lastSlashIndex + 1) : fullText;
  }
  
  function giveIframeChannel(channel)
  {
    document.getElementById("iframe").src = `https://player.twitch.tv/?channel=${channel}&enableExtensions=true&muted=false&parent=rollanibrayev.github.io&player=popout&quality=720p60&volume=1`;
  }

  function generateIframes()
  {
    let channel = extractChannelName(document.getElementById("channel").value.trim());
    if (channel)
    {
      giveIframeChannel(channel);
      document.getElementById("channelForm").style.display = "none";
    } else
    {
      alert("Please enter at least one channel name.");
    }
  }
</script>
<form id="channelForm">
  <div>Channel Link or Name:</div>
  <label for="channel"></label>
  <input type="text" id="channel" name="channel" required><br>

  <input type="button" value="Start Watching" onclick="generateIframes()">
</form><br>
<iframe id="iframe" frameborder=0 allowfullscreen=true height=720 width=1280></iframe>
