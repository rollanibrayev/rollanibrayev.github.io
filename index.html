<script defer>
document.body.style = 'overflow: hidden'
let appearedIframesCount = 0
const
iframes = document.querySelectorAll('iframe'),
fullscreen = event => !document.fullscreenElement ? document.body.requestFullscreen() :1,
toggle = event => {
  event.preventDefault()
  document.fullscreenElement
    ? document.exitFullscreen()
    : document.body.requestFullscreen()
},
listener = event => event.key === 'F' || event.key === 'f' ? toggle(event) :1,
u = (m, ...a) => {
  let n =
    m[0] == 'r'
    ? 2
    : 3
  for (let i = 0; i < a.length; i += n)
    a[i][m](
      n == 2
      ? a[i + 1]
      : a[i + 1], a[i + 2]
    )
},
inputListener = event => {
  if (appearedIframesCount < 1)
    u( 'removeAttribute',
      document.body, 'style',
      event.target, 'placeholder'
    ),
    fullscreen(),
    iframes[0].style = `
      width: 100vw;
      height: 56.25vw
    `
  if (appearedIframesCount == 1) {
    window.scrollTo(0, 0)
    document.body.style = 'overflow: hidden'
    iframes[0].style = `
      top: 50.000vh;
      transform: translateY(-50%)
    `
    document.fullscreenElement ? document.exitFullscreen() :1
  }
  if (appearedIframesCount == 2)
    [document.body, iframes[0]].forEach(e => u('removeAttribute', e, 'style')), 
    iframes[1].style = 'top: 0; transform: translateY(0)'
  if (appearedIframesCount == 3) iframes[2].style = 'left: 0'
  iframes[++appearedIframesCount - 1].src =
    'https://player.twitch.tv/?muted=true&volume=1&quality=chunked&' +
    'parent=rollanibrayev.github.io&channel=' +
    event.target.value.split('/').pop()
  appearedIframesCount == 3 ? fullscreen() :1
  event.target.value = ''
  if (appearedIframesCount > 3)
    fullscreen(),
    event.target.setAttribute('readonly', true),
    event.target.removeEventListener('input', inputListener)
}
u( 'addEventListener',
  document.querySelector('input'), 'input', inputListener,
  document, 'keydown', listener,
  document, 'dblclick', toggle
)
</script>
<title>Twitch Streams Viewer</title>
<iframe allowfullscreen="true"></iframe>
<iframe allowfullscreen="true"></iframe>
<iframe allowfullscreen="true"></iframe>
<iframe allowfullscreen="true"></iframe>
<input placeholder =
  'keep dragging twitch stream thumbnails (up to 4) to anywhere on this page'
>
<style>
body {
  margin: 0;
  background-color: 000
}
body::-webkit-scrollbar{
  width: 0;
  height: 0
}
iframe {
  width: 50vw;
  height: 28.125vw;
  border: 0;
  position: absolute
}
iframe:nth-of-type(1) {
  z-index: 1;
  width: 50vw;
  height: 28.125vw
}
iframe:nth-of-type(2) { left: 50vw; top: 50.000vh; transform: translateY(-50%) }
iframe:nth-of-type(3) { left: 25vw; top: 28.125vw }
iframe:nth-of-type(4) { left: 50vw; top: 28.125vw }
input {
  position: absolute;
  background-color: transparent;
  width: 100vw;
  height: 100vh;
  font-size: 5.5vh;
  font-family: Calibri;
  border: 0;
  text-align: center;
  outline: none;
  caret-color: transparent;
  cursor: default;
  padding: 0;
  z-index: 2
}
::placeholder { color: 808080 }
</style>
