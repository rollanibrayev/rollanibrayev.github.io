<title>Twitch Player</title>
<form>
  <div>Channel Link or Name:</div>
  <input type="text"><br>
  <input type="button" value="Start Watching">
</form>
<iframe frameborder=0 allowfullscreen=true height=720 width=1280></iframe>
<link rel="stylesheet" href="styles.css">
<script src="script.js"></script>
<style>
body {
  margin: 0;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}
form {
  text-align: center;
}
iframe {
  border: 0;
  display: none;
}</style><script>
const textInput = document.querySelector('input[type="text"]');
function finalizeIframe() {
  let fullText = textInput.value.trim(),
      lastSlashIndex = fullText.lastIndexOf('/'),
      channel = (lastSlashIndex !== -1) ? fullText.substring(lastSlashIndex + 1) : fullText;
  if (channel) {
    const iframe = document.querySelector('iframe');
    iframe.src = `https://player.twitch.tv/?channel=${channel}&muted=false&parent=rollanibrayev.github.io&player=popout&quality=chunked&volume=1`;
    iframe.style = 'display: block';
    document.querySelector('form').style.display = 'none';
    document.body.style.justifyContent = 'left';
    document.body.style.alignItems = 'start';
  } else {
    alert('Please enter a channel name');
  }
}
textInput.focus();
document.addEventListener('keypress', (event) => {
  if (event.keyCode == 13) {
    event.preventDefault();
    finalizeIframe();
  }
});
document.addEventListener('keydown', (event) => {
  if (event.ctrlKey) {
    document.addEventListener('keypress', (event) => {
      if (event.keyCode == 'v') {
        finalizeIframe();
      }
    });
  }
});
document.querySelector('input[type="button"]').addEventListener('click', finalizeIframe);</script>
