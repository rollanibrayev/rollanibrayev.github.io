<title>Twitch Streams Viewer</title>
<input placeholder = 'keep dragging twitch stream thumbnails (up to 4) to anywhere on this page'>
<style>
body {
    margin: 0;
    background-color: 000;
    overflow: hidden
}
iframe {
    width: 50vw;
    height: 28.125vw;
    border: 0;
    position: absolute
}
iframe:nth-of-type(1) { left: 25vw; top:     50vh; transform: translateY(-50%) }
iframe:nth-of-type(2) { left: 50vw; top:     50vh; transform: translateY(-50%) }
iframe:nth-of-type(3) { left: 25vw; top: 28.125vw }
iframe:nth-of-type(4) { left: 50vw; top: 28.125vw }
input {
    position: absolute;
    background-color: transparent;
    width: 100vw;
    height: 100vh;
    font-size: 5.5vh;
    font-family: Calibri;
    border: 0;
    text-align: center;
    outline: none;
    caret-color: transparent;
    cursor: default;
    padding: 0;
    z-index: 9999
}
::placeholder { color: 808080 }
</style>
<script>
let appearedIframesCount = 0;
const listener = event => {
    if (event.key === 'F' || event.key === 'f')
        event.preventDefault(),
        !document.fullscreenElement
            ? document.body.requestFullscreen()
            : document.exitFullscreen()
}
document.querySelector('input').addEventListener('input', event => {
    if (appearedIframesCount < 1) event.target.removeAttribute('placeholder');
    if (appearedIframesCount == 1) document.querySelectorAll('iframe')[0].style = 'left:  0';
    if (appearedIframesCount == 2)
    document.querySelectorAll('iframe')[0].style = 'top: 0; left: 0; transform: translateY(0)',
    document.querySelectorAll('iframe')[1].style = 'top: 0; transform: translateY(0)',
        document.body.requestFullscreen()
    ;
    if (appearedIframesCount == 3) document.querySelectorAll('iframe')[2].style = 'left:  0';
    document.body.appendChild(document.createElement('iframe'))
    document.querySelectorAll('iframe')[++appearedIframesCount - 1].src = `https://player.twitch.tv/?enableExtensions=true&muted=true&parent=rollanibrayev.github.io&player=popout&quality=chunked&volume=1&channel=${event.target.value.split('/').pop()}`;
    if (appearedIframesCount == 3)
        document.querySelector('style').innerHTML += 'body::-webkit-scrollbar{width:0;height:0}',
        document.body.style = 'overflow: visible'
    ;
    event.target.value = '';
    if (appearedIframesCount > 3)
        document.querySelectorAll('iframe').forEach(iframe => iframe.contentDocument.addEventListener('keydown', listener)),
        event.target.remove()
});
document.addEventListener('keydown', listener)
</script>
