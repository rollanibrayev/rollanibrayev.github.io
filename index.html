<title>Twitch Streams Viewer</title>
<iframe></iframe>
<iframe></iframe>
<iframe></iframe>
<iframe></iframe>
<input placeholder = 'keep dragging twitch stream thumbnails (up to 4) to anywhere on this page'>
<style>
body {
  margin: 0;
  background-color: 000;
  overflow: hidden
}
iframe {
  width: 50vw;
  height: 28.125vw;
  border: 0;
  position: absolute
}
iframe:nth-of-type(1) {
  z-index: 1;
  width: 50vw;
  height: 28.125vw
}
iframe:nth-of-type(2) { left: 50vw; top: 50.000vh; transform: translateY(-50%) }
iframe:nth-of-type(3) { left: 25vw; top: 28.125vw }
iframe:nth-of-type(4) { left: 50vw; top: 28.125vw }
input {
  position: absolute;
  background-color: transparent;
  width: 100vw;
  height: 100vh;
  font-size: 5.5vh;
  font-family: Calibri;
  border: 0;
  text-align: center;
  outline: none;
  caret-color: transparent;
  cursor: default;
  padding: 0;
  z-index: 2
}
::placeholder { color: 808080 }
</style>
<script>
let appearedIframesCount = 0;
const iframes = document.querySelectorAll('iframe');
const fullscreen = event => {
  event.preventDefault(),
  !document.fullscreenElement
    ? document.body.requestFullscreen()
    : document.exitFullscreen()
}
const listener = event => {
  if (event.key === 'F' || event.key === 'f') fullscreen(event)
}
document.querySelector('input').addEventListener('input', event => {
  if (appearedIframesCount < 1)
    event.target.removeAttribute('placeholder'),
    document.body.requestFullscreen(),
    iframes[0].style = `
      width: 100vw;
      height: 56.25vw
    `
  ;
  if (appearedIframesCount == 1)
    iframes[0].style = `
      top: 50.000vh;
      transform: translateY(-50%)
    `,
    document.exitFullscreen()
  ;
  if (appearedIframesCount == 2)
    iframes[0].removeAttribute('style'),
    iframes[1].style = 'top: 0; transform: translateY(0)'
  ;
  if (appearedIframesCount == 3) iframes[2].style = 'left: 0';
  iframes[++appearedIframesCount - 1].src =
    `https://player.twitch.tv/?enableExtensions=true&muted=true&parent=rollanibrayev.github.io&player=popout&quality=chunked&volume=1&channel=${event.target.value.split('/').pop()}`;
  if (appearedIframesCount == 3)
    document.querySelector('style').innerHTML +=
      'body::-webkit-scrollbar{width:0;height:0}',
    document.body.style = 'overflow: visible';
    document.body.requestFullscreen()
  ;
  event.target.value = '';
  if (appearedIframesCount > 3)
    iframes.forEach(
      iframe => iframe.contentDocument.addEventListener('keydown', listener)
    ),
    event.target.style = 'width: 0; height: 0',
    document.body.focus()
});
document.addEventListener('keydown', listener);
document.addEventListener('dblclick', fullscreen)
</script>
