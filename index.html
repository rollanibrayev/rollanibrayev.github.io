<title>Twitch Player</title>
<style>
html {
  background-color: black;
  color: white
}
body {
  margin: 0;
  overflow: hidden
}
#channelForm {
  text-align: center
}
</style>
<script defer>
function generateIframes() {
  let channel = extractChannelName(document.getElementById("channel").value.trim());
  if (channel) {
    createIframe("frame1", channel);
    document.getElementById("channelForm").style.display = "none";
  } else {
    alert("Please enter at least one channel name.");
  }
}

function extractChannelName(fullText) {
  let lastSlashIndex = fullText.lastIndexOf('/');
  return (lastSlashIndex !== -1) ? fullText.substring(lastSlashIndex + 1) : fullText;
}

function createIframe(id, channel) {
  let iframeContainer = document.getElementById("iframeContainer");

  let iframe = document.createElement("iframe");
  iframe.id = id;
  iframe.name = id;
  iframe.src = `https://player.twitch.tv/?channel=${channel}&enableExtensions=true&muted=false&parent=rollanibrayev.github.io&player=popout&quality=720p60&volume=1`;
  iframe.frameborder=0;
  iframe.allowfullscreen=true;
  iframe.height=720;
  iframe.width=1280;
  iframe.style = `border: 0`;
  document.body.style = "display: flex; justify-content: center; align-items: center";
  iframeContainer.appendChild(iframe);
}
</script>

<form id="channelForm">
  <div>Channel Link or Name:</div>
  <label for="channel"></label>
  <input type="text" id="channel" name="channel" required><br>

  <input type="button" value="Start Watching" onclick="generateIframes()">
</form>
<div id="iframeContainer"></div>
